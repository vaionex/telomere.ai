import{a as h,f as y}from"../chunks/DXC3ax9b.js";import{aC as ue,e as fe,J as Ge,a9 as Pe,aD as De,aE as Fe,a4 as $,aF as xe,aG as Re,q as Te,aH as Ve,B as We,p as je,t as k,g as t,a as ze,s as c,c as l,$ as He,r as s,n as ie,k as U,u as E,aB as K,f as Je}from"../chunks/mFslsiFm.js";import{s as m}from"../chunks/BpggGyi-.js";import{i as M}from"../chunks/C1VlIKkJ.js";import{e as B,i as Q}from"../chunks/CaXpCFPO.js";import{h as Oe}from"../chunks/BQEwZJ2C.js";import{r as Ue}from"../chunks/I5lL3_rj.js";import{s as de}from"../chunks/uYewLRfG.js";import{d as Ke,a as Qe}from"../chunks/D-9SZUtk.js";import{s as Xe,a as ce}from"../chunks/Dhx1VHtg.js";import{g as Ye,a as Ze,s as et,m as tt}from"../chunks/DuYKi3c3.js";import{i as at,r as rt}from"../chunks/CJ_hOr_p.js";function me(e,n,p=!1){if(e.multiple){if(n==null)return;if(!Pe(n))return De();for(var u of e.options)u.selected=n.includes(q(u));return}for(u of e.options){var v=q(u);if(Fe(v,n)){u.selected=!0;return}}(!p||n!==void 0)&&(e.selectedIndex=-1)}function st(e){var n=new MutationObserver(()=>{me(e,e.__value)});n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ge(()=>{n.disconnect()})}function ve(e,n,p=n){var u=new WeakSet,v=!0;ue(e,"change",i=>{var x=i?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(x),q);else{var _=e.querySelector(x)??e.querySelector("option:not([disabled])");d=_&&q(_)}p(d),$!==null&&u.add($)}),fe(()=>{var i=n();if(e===document.activeElement){var x=xe??$;if(u.has(x))return}if(me(e,i,v),v&&i===void 0){var d=e.querySelector(":checked");d!==null&&(i=q(d),p(i))}e.__value=i,v=!1}),st(e)}function q(e){return"__value"in e?e.__value:e.value}function ot(e,n,p=n){var u=new WeakSet;ue(e,"input",async v=>{var i=v?e.defaultValue:e.value;if(i=X(e)?Y(i):i,p(i),$!==null&&u.add($),await Re(),i!==(i=n())){var x=e.selectionStart,d=e.selectionEnd,_=e.value.length;if(e.value=i??"",d!==null){var w=e.value.length;x===d&&d===_&&w>_?(e.selectionStart=w,e.selectionEnd=w):(e.selectionStart=x,e.selectionEnd=Math.min(d,w))}}}),(We&&e.defaultValue!==e.value||Te(n)==null&&e.value)&&(p(X(e)?Y(e.value):e.value),$!==null&&u.add($)),Ve(()=>{var v=n();if(e===document.activeElement){var i=xe??$;if(u.has(i))return}X(e)&&v===Y(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function X(e){var n=e.type;return n==="number"||n==="range"}function Y(e){return e===""?null:+e}var lt=y("<option> </option>"),nt=y("<option> </option>"),it=y('<th class="text-center py-3 px-4 font-medium text-text-secondary">Genotype</th> <th class="text-center py-3 px-4 font-medium text-text-secondary">Risk</th>',1),dt=y("<span> </span>"),ct=y('<span class="text-text-tertiary">—</span>'),vt=y('<td> </td> <td class="py-3 px-4 text-center"><!></td>',1),ut=y('<span class="px-2 py-0.5 rounded-full text-xs glass text-text-tertiary"> </span>'),ft=y('<tr class="border-b border-white/5 hover:bg-white/[0.02] cursor-pointer transition-colors"><td class="py-3 px-4 font-mono text-accent-cyan text-xs"> </td><td class="py-3 px-4 font-medium"> </td><td class="py-3 px-4 text-text-tertiary hidden sm:table-cell"> </td><td class="py-3 px-4 text-text-secondary text-xs max-w-xs truncate"> </td><!><td class="py-3 px-4 hidden md:table-cell"><div class="flex gap-1 flex-wrap"></div></td></tr>'),xt=y('<p class="text-text-tertiary text-sm text-center mt-4"> </p>'),mt=y('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24"><div class="mb-8"><h1 class="text-3xl font-bold mb-2">SNP <span class="gradient-text">Explorer</span></h1> <p class="text-text-secondary"> </p></div> <div class="flex flex-col sm:flex-row gap-4 mb-6"><div class="flex-1 relative"><svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> <input type="text" placeholder="Search by rsID, gene, or trait..." class="w-full pl-10 pr-4 py-2.5 rounded-lg bg-surface border border-white/10 text-text-primary placeholder:text-text-tertiary focus:outline-none focus:border-accent-cyan/50 font-mono text-sm"/></div> <select class="px-4 py-2.5 rounded-lg bg-surface border border-white/10 text-text-primary text-sm focus:outline-none focus:border-accent-cyan/50"></select> <select class="px-4 py-2.5 rounded-lg bg-surface border border-white/10 text-text-primary text-sm focus:outline-none focus:border-accent-cyan/50"></select></div> <p class="text-text-tertiary text-sm mb-4"> </p> <div class="overflow-x-auto rounded-xl border border-white/10"><table class="w-full text-sm"><thead><tr class="bg-white/[0.03] border-b border-white/10"><th class="text-left py-3 px-4 font-medium text-text-secondary">rsID</th><th class="text-left py-3 px-4 font-medium text-text-secondary">Gene</th><th class="text-left py-3 px-4 font-medium text-text-secondary hidden sm:table-cell">Chr</th><th class="text-left py-3 px-4 font-medium text-text-secondary">Trait</th><!><th class="text-left py-3 px-4 font-medium text-text-secondary hidden md:table-cell">Category</th></tr></thead><tbody></tbody></table></div> <!></div>');function Et(e,n){je(n,!0);const p=()=>ce(at,"$isLoaded",v),u=()=>ce(rt,"$rawSnps",v),[v,i]=Xe();let x=K(""),d=K("all"),_=K("all");const w=Ze(),pe=["all",...Ye()],_e=["all",...[...new Set(w.map(a=>a.chromosome))].sort((a,r)=>{const o=parseInt(a),f=parseInt(r);return!isNaN(o)&&!isNaN(f)?o-f:isNaN(o)?isNaN(f)?a.localeCompare(r):1:-1})],he=E(()=>p()?tt(u()):[]),ye=E(()=>new Map(t(he).map(a=>[a.rsid,a]))),L=E(()=>()=>{let a=t(x).length>1?et(t(x)):w;return t(d)!=="all"&&(a=a.filter(r=>r.categories.includes(t(d)))),t(_)!=="all"&&(a=a.filter(r=>r.chromosome===t(_))),a});var G=mt();Oe("1w567vk",a=>{fe(()=>{He.title="SNP Explorer — Telomere AI"})});var P=l(G),Z=c(l(P),2),be=l(Z);s(Z),s(P);var D=c(P,2),F=l(D),ee=c(l(F),2);Ue(ee),s(F);var A=c(F,2);B(A,21,()=>pe,Q,(a,r)=>{var o=lt(),f=l(o,!0);s(o);var b={};k(j=>{m(f,j),b!==(b=t(r))&&(o.value=(o.__value=t(r))??"")},[()=>t(r)==="all"?"All Categories":t(r).charAt(0).toUpperCase()+t(r).slice(1)]),h(a,o)}),s(A);var R=c(A,2);B(R,21,()=>_e,Q,(a,r)=>{var o=nt(),f=l(o,!0);s(o);var b={};k(()=>{m(f,t(r)==="all"?"All Chromosomes":`Chr ${t(r)}`),b!==(b=t(r))&&(o.value=(o.__value=t(r))??"")}),h(a,o)}),s(R),s(D);var T=c(D,2),ge=l(T);s(T);var V=c(T,2),te=l(V),W=l(te),ae=l(W),we=c(l(ae),4);{var Se=a=>{var r=it();ie(2),h(a,r)};M(we,a=>{p()&&a(Se)})}ie(),s(ae),s(W);var re=c(W);B(re,21,()=>t(L)().slice(0,100),a=>a.rsid,(a,r)=>{const o=E(()=>t(ye).get(t(r).rsid));var f=ft(),b=l(f),j=l(b,!0);s(b);var z=c(b),Ne=l(z,!0);s(z);var H=c(z),Ee=l(H,!0);s(H);var J=c(H),qe=l(J,!0);s(J);var se=c(J);{var Le=N=>{var I=vt(),S=Je(I),O=l(S,!0);s(S);var ne=c(S,2),Ae=l(ne);{var Ie=g=>{var C=dt(),Be=l(C,!0);s(C),k(()=>{de(C,1,`px-2 py-0.5 rounded-full text-xs ${t(o).riskLevel==="high"?"bg-accent-red/10 text-accent-red":t(o).riskLevel==="moderate"?"bg-accent-amber/10 text-accent-amber":"bg-accent-green/10 text-accent-green"}`),m(Be,t(o).riskLevel)}),h(g,C)},Me=g=>{var C=ct();h(g,C)};M(Ae,g=>{t(o)?g(Ie):g(Me,!1)})}s(ne),k(()=>{var g;de(S,1,`py-3 px-4 text-center font-mono font-bold ${t(o)?"text-accent-cyan":"text-text-tertiary"}`),m(O,((g=t(o))==null?void 0:g.userGenotype)||"—")}),h(N,I)};M(se,N=>{p()&&N(Le)})}var oe=c(se),le=l(oe);B(le,21,()=>t(r).categories,Q,(N,I)=>{var S=ut(),O=l(S,!0);s(S),k(()=>m(O,t(I))),h(N,S)}),s(le),s(oe),s(f),k(()=>{m(j,t(r).rsid),m(Ne,t(r).gene),m(Ee,t(r).chromosome),m(qe,t(r).trait)}),Qe("click",f,()=>window.location.href=`/snp/${t(r).rsid}`),h(a,f)}),s(re),s(te),s(V);var ke=c(V,2);{var $e=a=>{var r=xt(),o=l(r);s(r),k(f=>m(o,`Showing first 100 of ${f??""} results. Refine your search to see more.`),[()=>t(L)().length]),h(a,r)},Ce=E(()=>t(L)().length>100);M(ke,a=>{t(Ce)&&a($e)})}s(G),k(a=>{m(be,`Browse and search our curated database of ${w.length??""} health-relevant SNPs.`),m(ge,`${a??""} SNPs`)},[()=>t(L)().length]),ot(ee,()=>t(x),a=>U(x,a)),ve(A,()=>t(d),a=>U(d,a)),ve(R,()=>t(_),a=>U(_,a)),h(e,G),ze(),i()}Ke(["click"]);export{Et as component};
